<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Bootstrap Cards Gallery with Individual Lightboxes</title>
<!-- Bootstrap CSS -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
<style>
  .card {
    border-radius: 0.75rem;
  }
  .card-title, .card-text {
    text-align: center;
  }
  .gallery-img {
    cursor: pointer;
    border-radius: 0.75rem 0.75rem 0 0;
  }
  /* Lightbox base styles */
  .lightbox {
    display: none;
    position: fixed;
    z-index: 1050;
    top: 0; left: 0; width: 100%; height: 100%;
    background: rgba(0,0,0,0.8);
    align-items: center;
    justify-content: center;
  }
  .lightbox.active {
    display: flex;
  }
  .lightbox img {
    max-width: 90%;
    max-height: 80vh;
    border-radius: 0.75rem;
  }
  /* Navigation arrows */
  .lightbox .nav-arrow {
    position: fixed;
    top: 50%;
    transform: translateY(-50%);
    font-size: 3rem;
    color: white;
    cursor: pointer;
    user-select: none;
    padding: 0 1rem;
    z-index: 1100;
  }
  .lightbox .prev-arrow {
    left: 1rem;
  }
  .lightbox .next-arrow {
    right: 1rem;
  }
  /* Close button */
  .lightbox .close-btn {
    position: fixed;
    top: 1rem;
    right: 1rem;
    font-size: 2.5rem;
    color: white;
    cursor: pointer;
    user-select: none;
    z-index: 1100;
  }
</style>
</head>
<body>
<div class="container my-4">
  <h2 class="mb-4 text-center">Cards Gallery</h2>
  <div class="row g-3">
    <!-- Six cards -->
    <div class="col-6 col-md-4 col-lg-2">
      <div class="card">
        <img src="https://storage.googleapis.com/acciojob-open-file-collections/image1.jpg" alt="Image 1" class="img-fluid gallery-img" data-index="0" />
        <div class="card-body">
          <h6 class="card-title">Description 1</h6>
          <p class="card-text">Details about image 1.</p>
        </div>
      </div>
    </div>
    <div class="col-6 col-md-4 col-lg-2">
      <div class="card">
        <img src="https://storage.googleapis.com/acciojob-open-file-collections/image2.jpg" alt="Image 2" class="img-fluid gallery-img" data-index="1" />
        <div class="card-body">
          <h6 class="card-title">Description 2</h6>
          <p class="card-text">Details about image 2.</p>
        </div>
      </div>
    </div>
    <div class="col-6 col-md-4 col-lg-2">
      <div class="card">
        <img src="https://storage.googleapis.com/acciojob-open-file-collections/image3.jpg" alt="Image 3" class="img-fluid gallery-img" data-index="2" />
        <div class="card-body">
          <h6 class="card-title">Description 3</h6>
          <p class="card-text">Details about image 3.</p>
        </div>
      </div>
    </div>
    <div class="col-6 col-md-4 col-lg-2">
      <div class="card">
        <img src="https://storage.googleapis.com/acciojob-open-file-collections/image4.jpg" alt="Image 4" class="img-fluid gallery-img" data-index="3" />
        <div class="card-body">
          <h6 class="card-title">Description 4</h6>
          <p class="card-text">Details about image 4.</p>
        </div>
      </div>
    </div>
    <div class="col-6 col-md-4 col-lg-2">
      <div class="card">
        <img src="https://storage.googleapis.com/acciojob-open-file-collections/image5.jpg" alt="Image 5" class="img-fluid gallery-img" data-index="4" />
        <div class="card-body">
          <h6 class="card-title">Description 5</h6>
          <p class="card-text">Details about image 5.</p>
        </div>
      </div>
    </div>
    <div class="col-6 col-md-4 col-lg-2">
      <div class="card">
        <img src="https://storage.googleapis.com/acciojob-open-file-collections/image6.jpg" alt="Image 6" class="img-fluid gallery-img" data-index="5" />
        <div class="card-body">
          <h6 class="card-title">Description 6</h6>
          <p class="card-text">Details about image 6.</p>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Six individual lightboxes -->
<div class="lightbox" id="lightbox-0" tabindex="0" aria-modal="true" role="dialog" aria-label="Image gallery lightbox 1">
  <span class="close-btn" title="Close">&times;</span>
  <span class="nav-arrow prev-arrow" title="Previous">&#10094;</span>
  <img src="https://storage.googleapis.com/acciojob-open-file-collections/image1.jpg" alt="Image 1" />
  <span class="nav-arrow next-arrow" title="Next">&#10095;</span>
</div>
<div class="lightbox" id="lightbox-1" tabindex="0" aria-modal="true" role="dialog" aria-label="Image gallery lightbox 2">
  <span class="close-btn" title="Close">&times;</span>
  <span class="nav-arrow prev-arrow" title="Previous">&#10094;</span>
  <img src="https://storage.googleapis.com/acciojob-open-file-collections/image2.jpg" alt="Image 2" />
  <span class="nav-arrow next-arrow" title="Next">&#10095;</span>
</div>
<div class="lightbox" id="lightbox-2" tabindex="0" aria-modal="true" role="dialog" aria-label="Image gallery lightbox 3">
  <span class="close-btn" title="Close">&times;</span>
  <span class="nav-arrow prev-arrow" title="Previous">&#10094;</span>
  <img src="https://storage.googleapis.com/acciojob-open-file-collections/image3.jpg" alt="Image 3" />
  <span class="nav-arrow next-arrow" title="Next">&#10095;</span>
</div>
<div class="lightbox" id="lightbox-3" tabindex="0" aria-modal="true" role="dialog" aria-label="Image gallery lightbox 4">
  <span class="close-btn" title="Close">&times;</span>
  <span class="nav-arrow prev-arrow" title="Previous">&#10094;</span>
  <img src="https://storage.googleapis.com/acciojob-open-file-collections/image4.jpg" alt="Image 4" />
  <span class="nav-arrow next-arrow" title="Next">&#10095;</span>
</div>
<div class="lightbox" id="lightbox-4" tabindex="0" aria-modal="true" role="dialog" aria-label="Image gallery lightbox 5">
  <span class="close-btn" title="Close">&times;</span>
  <span class="nav-arrow prev-arrow" title="Previous">&#10094;</span>
  <img src="https://storage.googleapis.com/acciojob-open-file-collections/image5.jpg" alt="Image 5" />
  <span class="nav-arrow next-arrow" title="Next">&#10095;</span>
</div>
<div class="lightbox" id="lightbox-5" tabindex="0" aria-modal="true" role="dialog" aria-label="Image gallery lightbox 6">
  <span class="close-btn" title="Close">&times;</span>
  <span class="nav-arrow prev-arrow" title="Previous">&#10094;</span>
  <img src="https://storage.googleapis.com/acciojob-open-file-collections/image6.jpg" alt="Image 6" />
  <span class="nav-arrow next-arrow" title="Next">&#10095;</span>
</div>

<script>
  const totalImages = 6;

  function openLightbox(index) {
    closeAllLightboxes();
    const lb = document.getElementById('lightbox-' + index);
    if(lb) {
      lb.classList.add('active');
      lb.focus();
    }
  }

  function closeAllLightboxes() {
    document.querySelectorAll('.lightbox.active').forEach(lb => lb.classList.remove('active'));
  }

  // Event listeners for cards to open lightboxes
  document.querySelectorAll('.gallery-img').forEach((img, idx) => {
    img.addEventListener('click', () => openLightbox(idx));
  });

  // Setup close, next, prev events for each lightbox
  document.querySelectorAll('.lightbox').forEach((lb, idx) => {
    lb.querySelector('.close-btn').addEventListener('click', closeAllLightboxes);
    lb.addEventListener('click', e => { if(e.target === lb) closeAllLightboxes(); });

    lb.querySelector('.prev-arrow').addEventListener('click', e => {
      e.stopPropagation();
      const prevIndex = (idx - 1 + totalImages) % totalImages;
      openLightbox(prevIndex);
    });

    lb.querySelector('.next-arrow').addEventListener('click', e => {
      e.stopPropagation();
      const nextIndex = (idx + 1) % totalImages;
      openLightbox(nextIndex);
    });
  });

  // Close all on ESC key
  document.addEventListener('keydown', e => {
    if(e.key === 'Escape') closeAllLightboxes();
  });
</script>
</body>
</html>
